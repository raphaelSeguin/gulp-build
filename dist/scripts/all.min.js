!function(h){h.fn.autogrow=function(a){function s(e){var i,t=h(this),n=t.innerHeight(),s=this.scrollHeight,o=t.data("autogrow-start-height")||0;if(n<s)this.scrollTop=0,a.animate?t.stop().animate({height:s},a.speed):t.innerHeight(s);else if(!e||8==e.which||46==e.which||e.ctrlKey&&88==e.which)if(o<n){for(i=t.clone().addClass(a.cloneClass).css({position:"absolute",zIndex:-10,height:""}).val(t.val()),t.after(i);s=i[0].scrollHeight-1,i.innerHeight(s),s===i[0].scrollHeight;);s++,i.remove(),t.focus(),s<o&&(s=o),s<n&&a.animate?t.stop().animate({height:s},a.speed):t.innerHeight(s)}else t.innerHeight(o)}var e=h(this).css({overflow:"hidden",resize:"none"}),i=e.selector,t={context:h(document),animate:!0,speed:200,fixMinHeight:!0,cloneClass:"autogrowclone",onInitialize:!1};return a=h.isPlainObject(a)?a:{context:a||h(document)},a=h.extend({},t,a),e.each(function(e,i){var t,n;(i=h(i)).is(":visible")||0<parseInt(i.css("height"),10)?t=parseInt(i.css("height"),10)||i.innerHeight():(n=i.clone().addClass(a.cloneClass).val(i.val()).css({position:"absolute",visibility:"hidden",display:"block"}),h("body").append(n),t=n.innerHeight(),n.remove()),a.fixMinHeight&&i.data("autogrow-start-height",t),i.css("height",t),a.onInitialize&&i.length&&s.call(i[0])}),a.context.on("keyup paste",i,s),e}}(jQuery);